<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta name="description" content="Javascript, game, AI"  />
	<link type="text/css" rel="stylesheet" href="/RoboTag/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="/RoboTag/css/jquery-ui-1.8.13.custom.css" />
	<link type="text/css" rel="stylesheet" href="/RoboTag/css/play.css" />
	<title>RoboTag | Play</title>
</head>
<body>

<div class="topbar">
	<div class="topbar-inner">
	<div class="container">
		<h3><a href="/RoboTag/"><img id="logo" src="/RoboTag/images/logo_small.png"/></a></h3>
		<ul>
			<li><a href="/RoboTag/info">How It Works</a></li>
			<li><a href="/RoboTag/play">Play Now</a></li>
		</ul>
		<ul class="nav secondary-nav">
			<li><a href="#">Login</a></li>
		</ul>
	</div>
	</div>
</div>

<div id="game-page" class="container">
	<div class="step row">
		<div class="span16">
			<div class="page-header"><h2>Play <small>3 steps to RoboTag</small></h2></div>
			<h2>Step 1: Code <small>Write your Javascript function(s) and/or select sample robot(s) for a match.</small></h2>
		</div>
	</div>
	<div id="step1">
	<div class="code-header row">
		<div class="p1 span8">
			<span class="p1-text">Player 1</span>
			<span class="message"></span>
		</div>
		<div class="p2 span8 right">
			<span class="message"></span>
			<span class="p2-text">Player 2</span>
		</div>
	</div>
	<div class="editor row">
		<div class="span8">
			<div id="editor1"></div>
		</div>
		<div class="span8">
			<div id="editor2"></div>
		</div>
	</div>
	<div class="editor-controls row">
		<div class="p1 span8 center">
			<select class="samples medium">
				<option selected="selected">Player 1</option>
				<optgroup label="Samples">
				<option>Lazy Bot</option>
				<option>Random Bot</option>
				<option>Bouncy Bot</option>
				<option>Hungry Bot</option>
				</optgroup>
			</select>
			<button type="button" class="btn save">Submit</button>
		</div>
		<div class="p2 span8 center">
			<select class="samples medium">
				<option selected="selected">Player 2</option>
				<optgroup label="Samples">
				<option>Lazy Bot</option>
				<option>Random Bot</option>
				<option>Bouncy Bot</option>
				<option>Hungry Bot</option>
				</optgroup>
			</select>
			<button type="button" class="btn save">Submit</button>
		</div>
	</div>
	</div>
	<div class="step row">
		<div class="span16"><h2>Step 2: Watch <small>View the match to see robots in action. This becomes active after 2 valid robots are submitted.</small></h2></div>
	</div>
	<div id="step2">
	<div class="game-status row">
		<div class="span2 p1 right"></div>
		<div class="span12 center">
			<span class="message"></span>
		</div>
		<div class="span2 p2"></div>
	</div>
	<div class="names-time row">
		<div class="span7">
			<span class="p1-text">Player 1</span>
		</div>
		<div class="span2">
			<strong>TIME</strong>
			<div class="time center neutral-text">0</div>
		</div>
		<div class="span7 right">
			<span class="p2-text">Player 2</span>
		</div>
	</div>
	<div class="display row">
		<div class="span2 right">
			<img id="p1-img" src="/RoboTag/images/robot1.png" alt = "robot1"/><br>
			<div class="p1-text center">1000</div>
			<div id="display-options">
				<fieldset>
				<span class="neutral-text">Display</span>
				<label for="coords" title="Show/Hide robot coordinates">
					(x,y) <input type="checkbox" id="coords" checked="checked"/>
				</label>
				<label for="item-values" title="Show/Hide item values">
					Item Values <input type="checkbox" id="item-values" checked="checked"/>
				</label>
				<label for="path" title="Show/Hide robot path">
					Path <input type="checkbox" id="path" checked="checked"/>
				</label>
				<label for="fuel-bars" title="Show/Hide fuel bars">
					Fuel Bars <input type="checkbox" id="fuel-bars" checked="checked"/>
				</label>
				</fieldset>
			</div>
		</div>
		<div class="span12">
			<div id="canvas-div">
				<canvas id="canvas" width="610" height="550"></canvas>
			</div>
			<div id="controls">
				<button type="button" id="play" title="Play"></button>
				<div id="seeker"></div><br>
				Fuel Tanks 
				<select id="fuel-qty" class="mini">
					<option>0</option>
					<option>10</option>
					<option selected="selected">20</option>
					<option>30</option>
					<option>40</option>
					<option>50</option>
				</select>
				Mines 
				<select id="mine-qty" class="mini">
					<option>0</option>
					<option>20</option>
					<option>40</option>
					<option selected="selected">60</option>
					<option>80</option>
					<option>100</option>
				</select>&nbsp;
				<button type="button" id="swap" title="New match on same map with swapped starting positions">Swap</button>
				<button type="button" id="rematch" title="New match on a new map">Rematch</button>
				<button type="button" id="series" title="Play 10 matches and view summarized results">10 Matches</button>
			</div>
		</div>
		<div class="span2">
			<img id="p2-img" src="/RoboTag/images/robot2.png" alt = "robot2" />
			<div class="p2-text center">1000</div>
		</div>
	</div>
	</div>
	<div id="step3" class="step row">
		<div class="span16">
			<h2 class="page-header">Step 3: Compete <small>Got something good? Submit your robot to compete in tournaments and see how you rank against other people.</small></h2>
			<div id="step3-buttons">
				<button class="btn p1">Submit Player 1</button>
				<button class="btn p2">Submit Player 2</button><br>
				<strong>Not implemented yet. Coming soon!</strong>
			</div>
			<p>This step is optional. It's possible to just play individual matches on this page, but most of the fun is in competing against other people. Once you've signed up and submitted a robot, we will run automated tournaments periodically and post the results. You'll be able to see your ranking and watch matches from the tournament. You are free to update and improve your robot any time. We haven't actually written many robots ourselves and are very curious to see what people come up with!</p>
		</div>
	</div>
</div>

<div id="footer">
	<div class="container">
	<div class="row">
		<div class="span16">
		&copy; 2011 RoboTag - by <a href="http://mikeygee.com" target="_blank">Mikey Gee </a>
		</div>
	</div>
	</div>
</div>

<div id="images">
	<img id = "fuel-img" src = "/RoboTag/images/fuel20.png" alt = "fuel" />
	<img id = "mine-img" src = "/RoboTag/images/mine20.png" alt = "mine" />
	<img id = "check" src = "/RoboTag/images/check.png" alt = "check"/>
	<img id = "x" src = "/RoboTag/images/x.png" alt = "x" />
	<img id = "p1-img40" src = "/RoboTag/images/robot140.png" alt = "p1" />
	<img id = "p2-img40" src = "/RoboTag/images/robot240.png" alt = "p2" />
</div>

<script type="text/javascript" src="/RoboTag/js/jquery.min.js"></script>
<script type="text/javascript" src="/RoboTag/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="/RoboTag/js/underscore-min.js"></script>
<script type="text/javascript" src="/RoboTag/js/jquery.tmpl.min.js"></script>
<script type="text/javascript" src="/RoboTag/js/ace.js" charset="utf-8"></script>
<script type="text/javascript" src="/RoboTag/js/mode-javascript.js" charset="utf-8"></script>
<script type="text/javascript" src="/RoboTag/js/theme-twilight.js" charset="utf-8"></script>
<script type="text/javascript" src="/RoboTag/js/robotag.js" ></script>
<script type="text/javascript" src="/RoboTag/js/bootstrap-modal.js" ></script>
<script type="text/x-jquery-tmpl" id="rt-error">
	<div id="error-dialog" class="modal fade" title="Run Time Error">
		<div class="modal-header">
			<a href="#" class="close">x</a>
			<h3>Run Time Error</h3>
		</div>
		<div class="modal-body">
			<pre class="error">${message}</pre>
			<div class="p2-text">my</div>
			(x, y) = (${p.my.x.toFixed(2)}, ${p.my.y.toFixed(2)}), fuel = ${p.my.fuel.toFixed(2)}
			<br><br>
			<div class="p2-text">enemy</div>
			(x, y) = (${p.enemy.x.toFixed(2)}, ${p.enemy.y.toFixed(2)}), fuel = ${p.enemy.fuel.toFixed(2)}
			<br><br>
			<div class="p2-text">map.fuelTanks</div>
			{{each fuelTanks}}
				{ x: ${x}, y: ${y}, value: ${value} }<br>
			{{/each}}
			<br>
			<div class="p2-text">map.mines</div>
			{{each mines}}
				{ x: ${x}, y: ${y}, value: ${value} }<br>
			{{/each}}
		</div>
	</div>
</script>
<script type="text/x-jquery-tmpl" id="series-summary">
	<div id="canvas-alt">
		<h1 class="center">${n} Game Series</h1>
		<table id="series-results">
			<tr>
				<td class="p1">${p1.wins}</td>
				<td class="stat">Wins</td>
				<td class="p2">${p2.wins}</td>
			</tr>
			<tr>
				<td class="p1">${p1.losses}</td>
				<td class="stat">Losses</td>
				<td class="p2">${p2.losses}</td>
			</tr>
			<tr>
				<td class="p1">${p1.ties}</td>
				<td class="stat">Ties</td>
				<td class="p2">${p2.ties}</td>
			</tr>
		</table>
		<br><br>
		<table id="series-stats">
			<tr>
				<td class="p1">${p1.margin.toFixed(1)} (${p1.avgMargin})</td>
				<td class="stat"${p1.wins}>Fuel margin (Avg)</td>
				<td class="p2">${p2.margin.toFixed(1)} (${p2.avgMargin})</td>
			</tr>
			<tr>
				<td class="p1">${p1.tanks} (${p1.avgTanks})</td>
				<td class="stat">Fuel tanks picked up (Avg)</td>
				<td class="p2">${p2.tanks} (${p2.avgTanks})</td>
			</tr>
			<tr>
				<td class="p1">${p1.mines} (${p1.avgMines})</td>
				<td class="stat">Mines hit (Avg)</td>
				<td class="p2">${p2.mines} (${p2.avgMines})</td>
			</tr>
			<tr>
				<td class="p1">${turns} (${avgTurns})</td>
				<td class="stat">Turns played (Avg)</td>
				<td class="p2">${turns} (${avgTurns})</td>
			</tr>
			<tr>
				<td class="p1">${p1.distance.toFixed(1)} (${p1.avgDistance})</td>
				<td class="stat">Distance traveled (Avg per turn)</td>
				<td class="p2">${p2.distance.toFixed(1)} (${p2.avgDistance})</td>
			</tr>
			<tr>
				<td class="p1">${p1.fuel.toFixed(1)} (${p1.avgFuel})</td>
				<td class="stat">Fuel burned (Avg per turn)</td>
				<td class="p2">${p2.fuel.toFixed(1)} (${p2.avgFuel})</td>
			</tr>
		</table>
	</div>
</script>
<script type="text/x-jquery-tmpl" id="series-error">
	<div id="canvas-alt">
		<h1 class="center error">Run Time Error</h1>
		<span class="error">${message}</span>
	</div>
</script>

</body>
</html>
